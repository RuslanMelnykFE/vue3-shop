(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f44eed46"],{"5a6b":function(e,t,c){"use strict";c.r(t);var n=c("7a23");function r(e,t,c,r,u,a){var i=Object(n["A"])("BaseBreadcrumbs"),o=Object(n["A"])("TheProduct"),l=Object(n["A"])("BaseLayout");return Object(n["u"])(),Object(n["d"])(l,null,{default:Object(n["K"])((function(){var e;return[Object(n["j"])(i,{breadcrumbsList:[{name:"main",text:r.productCategory}],lastBreadcramb:(null===(e=r.productData)||void 0===e?void 0:e.title)||""},null,8,["breadcrumbsList","lastBreadcramb"]),Object(n["j"])(o,{productData:r.productData},null,8,["productData"])]})),_:1})}var u=c("5502"),a=c("6c02"),i={class:"item"},o={class:"item__info"},l={class:"item__code"},s={class:"item__title"},d={class:"item__form"},b={class:"item__price"},f={class:"sizes sizes--primery"},p={class:"sizes__label"},j=["name","value","checked"],O={class:"sizes__value"},m={class:"item__row"},v=Object(n["g"])("button",{class:"button button--primery",type:"submit"}," В корзину ",-1);function g(e,t,c,r,u,a){var g,h,_=Object(n["A"])("ProductPicture"),y=Object(n["A"])("ListInputColors"),P=Object(n["A"])("FormFieldset"),k=Object(n["A"])("FormCounter"),C=Object(n["A"])("ProductTabs");return Object(n["u"])(),Object(n["f"])("section",i,[Object(n["j"])(_,{defaultPicture:null===(g=c.productData)||void 0===g?void 0:g.preview.file.url,altPicture:r.productTitle,gallery:r.picturesGallery},null,8,["defaultPicture","altPicture","gallery"]),Object(n["g"])("div",o,[Object(n["g"])("span",l,"Артикул: "+Object(n["C"])(null===(h=c.productData)||void 0===h?void 0:h.id),1),Object(n["g"])("h2",s,Object(n["C"])(r.productTitle),1),Object(n["g"])("div",d,[Object(n["g"])("form",{class:"form",action:"#",method:"POST",onSubmit:t[3]||(t[3]=Object(n["M"])((function(){return r.asyncAddProduct&&r.asyncAddProduct.apply(r,arguments)}),["prevent"]))},[Object(n["g"])("b",b,Object(n["C"])(r.productPrice)+" y.e ",1),r.colorsList.length?(Object(n["u"])(),Object(n["d"])(P,{key:0,legend:"Цвет:"},{default:Object(n["K"])((function(){return[Object(n["j"])(y,{modelValue:r.selectedColor,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.selectedColor=e}),"colors-list":r.colorsList},null,8,["modelValue","colors-list"])]})),_:1})):Object(n["e"])("",!0),Object(n["j"])(P,{legend:r.offersLegend},{default:Object(n["K"])((function(){return[Object(n["g"])("ul",f,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.offersValues,(function(e){return Object(n["u"])(),Object(n["f"])("li",{class:"sizes__item",key:e.id},[Object(n["g"])("label",p,[Object(n["L"])(Object(n["g"])("input",{class:"sizes__radio sr-only",type:"radio",name:"offer-".concat(r.mainProp.code),value:e.id,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.selectedOffer=e}),checked:e.id===r.selectedOffer},null,8,j),[[n["F"],r.selectedOffer]]),Object(n["g"])("span",O,Object(n["C"])(e.text),1)])])})),128))])]})),_:1},8,["legend"]),Object(n["g"])("div",m,[Object(n["j"])(k,{modelValue:r.quantityProduct,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.quantityProduct=e}),modelModifiers:{number:!0}},null,8,["modelValue"]),v])],32)])]),Object(n["j"])(C,{productData:c.productData},null,8,["productData"])])}var h=c("9937"),_=c("2909"),y=(c("99af"),c("b64b"),c("7db0"),c("6c63")),P=function(e){var t=Object(n["x"])(""),c=Object(n["x"])({}),r=function(e){return e.id===t.value},u=Object(n["b"])((function(){var t;return(null===(t=e.value)||void 0===t?void 0:t.mainProp)||null})),a=Object(n["b"])((function(){var t;return null!==(t=e.value)&&void 0!==t&&t.offers?e.value.offers.reduce((function(e,t){return[].concat(Object(_["a"])(e),[{id:t.id,text:t.propValues[0].value}])}),[]):[]})),i=Object(n["b"])((function(){var e,t;switch(null===(e=u.value)||void 0===e?void 0:e.code){case"built_in_memory":return"Объемб в ГБ:";default:return"".concat((null===(t=u.value)||void 0===t?void 0:t.title)||"",":")}})),o=Object(n["b"])((function(){var t;return Object.keys(c.value).length?Object(y["a"])(c.value.price):Object(y["a"])((null===(t=e.value)||void 0===t?void 0:t.price)||0)})),l=Object(n["b"])((function(){var t;return Object.keys(c.value).length?c.value.title:(null===(t=e.value)||void 0===t?void 0:t.title)||""})),s=function(){t.value=a.value[0].id};return Object(n["J"])(a,(function(){s()}),{deep:!0}),Object(n["J"])(t,(function(){c.value=e.value.offers.find(r)||{}})),{mainProp:u,offersValues:a,offersLegend:i,offer:c,selectedOffer:t,productPrice:o,productTitle:l}},k=P,C=c("bbe8"),T=c("c956"),x={class:"form__counter"},w=["width","height"],V=Object(n["g"])("use",{"xlink:href":"#icon-minus"},null,-1),D=[V],I=["width","height"],L=Object(n["g"])("use",{"xlink:href":"#icon-plus"},null,-1),A=[L];function q(e,t,c,r,u,a){return Object(n["u"])(),Object(n["f"])("div",x,[Object(n["g"])("button",{type:"button","aria-label":"Убрать один товар",onClick:t[0]||(t[0]=function(){return r.doDecrement&&r.doDecrement.apply(r,arguments)})},[(Object(n["u"])(),Object(n["f"])("svg",{width:c.widthIcon,height:c.heightIcon,fill:"currentColor"},D,8,w))]),Object(n["L"])(Object(n["g"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.counter=e}),name:"count",onInput:t[2]||(t[2]=function(e){return r.doAmountInput(e.target.value)})},null,544),[[n["H"],r.counter]]),Object(n["g"])("button",{type:"button","aria-label":"Добавить один товар",onClick:t[3]||(t[3]=function(){return r.doIncrement&&r.doIncrement.apply(r,arguments)})},[(Object(n["u"])(),Object(n["f"])("svg",{width:c.widthIcon,height:c.heightIcon,fill:"currentColor"},A,8,I))])])}c("a9e3");var F={name:"FormCounter",props:{modelValue:{type:[Number,String],default:1},modelModifiers:{default:function(){return{}}},widthIcon:{type:[String,Number],default:12},heightIcon:{type:[String,Number],default:12}},emits:["update:modelValue"],setup:function(e,t){var c=t.emit,r=Object(n["D"])(e),u=r.modelValue,a=Object(n["x"])(1),i=function(e){if(!Number(e)||e<1)return a.value=1,void c("update:modelValue",1);c("update:modelValue",e)},o=function(){c("update:modelValue",u.value+1)},l=function(){u.value>1&&c("update:modelValue",u.value-1)};return Object(n["J"])(u,(function(e){a.value=e})),{counter:a,doAmountInput:i,doIncrement:o,doDecrement:l}}},S=c("6b0d"),z=c.n(S);const B=z()(F,[["render",q]]);var J=B,M={class:"item__pics pics"},N={class:"pics__wrapper"},U=["src","alt"],G={key:0,class:"pics__list"},H=Object(n["h"])('<li class="pics__item"><a href="" class="pics__link pics__link--current"><img width="98" height="98" src="img/phone-square-1.jpg" srcset="img/phone-square-1@2x.jpg 2x" alt="Название товара"></a></li><li class="pics__item"><a href="" class="pics__link"><img width="98" height="98" src="img/phone-square-2.jpg" srcset="img/phone-square-2@2x.jpg 2x" alt="Название товара"></a></li><li class="pics__item"><a href="" class="pics__link"><img width="98" height="98" src="img/phone-square-3.jpg" srcset="img/phone-square-3@2x.jpg 2x" alt="Название товара"></a></li><li class="pics__item"><a class="pics__link" href="#"><img width="98" height="98" src="img/phone-square-4.jpg" srcset="img/phone-square-4@2x.jpg 2x" alt="Название товара"></a></li>',4),K=[H];function E(e,t,c,r,u,a){return Object(n["u"])(),Object(n["f"])("div",M,[Object(n["g"])("div",N,[Object(n["g"])("img",{width:"570",height:"570",src:c.defaultPicture,alt:c.altPicture},null,8,U)]),c.gallery?(Object(n["u"])(),Object(n["f"])("ul",G,K)):Object(n["e"])("",!0)])}var Q={name:"ProductPictures",props:{defaultPicture:{type:String,default:""},altPicture:{type:String,default:""},gallery:{type:Array,default:function(){return[]}}},setup:function(){}};const R=z()(Q,[["render",E]]);var W=R,X=(c("b0c0"),{class:"item__desc"}),Y={class:"tabs"},Z=["onClick"],$=["innerHTML"],ee={key:1,class:"item__content"},te={key:2,class:"item__content"},ce={key:3,class:"item__content"};function ne(e,t,c,r,u,a){return Object(n["u"])(),Object(n["f"])("div",X,[Object(n["g"])("ul",Y,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.tabsList,(function(e){return Object(n["u"])(),Object(n["f"])("li",{class:"tabs__item",key:e.name},[Object(n["g"])("a",{class:Object(n["p"])(["tabs__link",{"tabs__link--current":r.selectedTab===e.name}]),href:"#",onClick:Object(n["M"])((function(t){return r.doToggleTab(e.name)}),["stop","prevent"])},Object(n["C"])(e.text),11,Z)])})),128))]),"content"===r.selectedTab?(Object(n["u"])(),Object(n["f"])("div",{key:0,class:"item__content",innerHTML:r.content},null,8,$)):Object(n["e"])("",!0),"specifications"===r.selectedTab?(Object(n["u"])(),Object(n["f"])("div",ee,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.specifications,(function(e){return Object(n["u"])(),Object(n["f"])(n["a"],{key:"specification-".concat(e.id)},[Object(n["g"])("h3",null,Object(n["C"])(e.title),1),Object(n["g"])("p",null,Object(n["C"])(e.value),1)],64)})),128))])):Object(n["e"])("",!0),"guarantee"===r.selectedTab?(Object(n["u"])(),Object(n["f"])("div",te,"Гарантия")):Object(n["e"])("",!0),"payment"===r.selectedTab?(Object(n["u"])(),Object(n["f"])("div",ce,"Оплата и доставка")):Object(n["e"])("",!0)])}var re={name:"ProductTabs",props:{productData:{type:Object,default:function(){return{}}}},setup:function(e){var t=[{name:"content",text:"Описание"},{name:"specifications",text:"Характеристики"},{name:"guarantee",text:"Гарантия"},{name:"payment",text:"Оплата и доставка"}],c=Object(n["D"])(e),r=c.productData,u=Object(n["x"])("content"),a=Object(n["b"])((function(){var e;return(null===(e=r.value)||void 0===e?void 0:e.content)||"Описание"})),i=Object(n["b"])((function(){var e;return(null===(e=r.value)||void 0===e?void 0:e.specifications)||[]})),o=function(e){u.value=e};return{selectedTab:u,tabsList:t,content:a,specifications:i,doToggleTab:o}}};const ue=z()(re,[["render",ne]]);var ae=ue,ie={name:"TheProduct",components:{FormFieldset:C["a"],ListInputColors:T["a"],FormCounter:J,ProductPicture:W,ProductTabs:ae},props:{productData:{type:Object,default:function(){return{}}}},setup:function(e){var t=Object(u["b"])(),c=Object(n["D"])(e),r=c.productData,a=Object(n["x"])(1),i=Object(h["b"])(r),o=i.selectedColor,l=i.selectedColorId,s=i.colorsList,d=i.picturesGallery,b=k(r),f=b.mainProp,p=b.offersValues,j=b.offersLegend,O=b.selectedOffer,m=b.offer,v=b.productPrice,g=b.productTitle,_=function(){var e={productOfferId:O.value,colorId:l.value,quantity:a.value};t.dispatch("basket/addProductToBasket",e)};return{quantityProduct:a,productPrice:v,selectedColor:o,selectedColorId:l,colorsList:s,picturesGallery:d,mainProp:f,offersValues:p,offersLegend:j,offer:m,selectedOffer:O,productTitle:g,asyncAddProduct:_}}};c("9de6");const oe=z()(ie,[["render",g]]);var le=oe,se={name:"ViewProduct",components:{TheProduct:le},setup:function(){var e=Object(u["b"])(),t=Object(a["c"])(),c=Object(n["b"])((function(){return e.getters["products/product"]})),r=Object(n["b"])((function(){var e;return null!==(e=c.value)&&void 0!==e&&e.category?c.value.category.title:""}));return Object(n["J"])((function(){return t.params.productId}),(function(t){t&&e.dispatch("products/getProduct",t)}),{immediate:!0}),{productData:c,productCategory:r}}};const de=z()(se,[["render",r]]);t["default"]=de},"7db0":function(e,t,c){"use strict";var n=c("23e7"),r=c("b727").find,u=c("44d2"),a="find",i=!0;a in[]&&Array(1)[a]((function(){i=!1})),n({target:"Array",proto:!0,forced:i},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),u(a)},"89a8":function(e,t,c){},"9de6":function(e,t,c){"use strict";c("89a8")}}]);
//# sourceMappingURL=chunk-f44eed46.a965f39b.js.map